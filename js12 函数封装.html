<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<style type="text/css" media="screen">
		#div{width: 120px;height: 120px;background-color: #2283C5;position: absolute;top: 50px;left: 180px;}
	</style>
</head>
<body>
	<input type="button" value="前进" />
	<input type="button" value="后退" />
	<input type="button" value="回调函数">
	<div id="div">
		
	</div>
</body>
<script  type="text/javascript">
	//定时器综合应用，函数封装、回调函数、让一排div往下掉
	var arrInput = document.getElementsByTagName("input");
	var oDiv = document.getElementById("div");
	arrInput[0].onclick = function(){
		/* oDiv.timer = setInterval(function(){
		 	var speed = parseInt(getStyle(oDiv,'left'))+20;
		 	if(speed>800){
		 		speed = 800;
		 	}
		 	oDiv.style.left = speed + 'px';
			if(speed==800){
				clearInterval(oDiv.timer);
			}		 	
		 },30);*/
		 doMove(oDiv,30,'left',10);

	};
	arrInput[1].onclick = function(){
		/*oDiv.timer = setInterval(function(){
			var speed = parseInt(getStyle(oDiv,'left'))-20;
			if(speed<10){
				speed = 10;
			}
			oDiv.style.left = speed + 'px';
			if(speed == 10){
				clearInterval(oDiv.timer);
			}
		},30)*/
		 doMove(oDiv,30,'left',800);
	}

	arrInput[2].onclick = function(){

	}

	//函数封装，传递的参数思考
	//对象、移动方向（+、-）,步长[合成一个]、目标距离
	function doMove(obj,dir,attr,target){//
		dir = parseInt(getStyle(obj,attr)) < target ? dir:-dir;
		clearInterval(obj.timer);
		obj.timer = setInterval(function(){
			var speed = parseInt(getStyle(obj,attr)) +  dir;
			if(speed > target&&dir>0||speed<target&&dir<0){
				speed = target;
			}
			//obj.style.left = XX;
			obj.style[attr] = speed + 'px';
			if(speed == target){
				clearInterval(obj.timer);
			}
		},30);
	}


	//回调函数(函数内部所有事情走完之后，要干什么，此为回调函数)
	//回调函数就是一个参数，将这个函数作为参数传到另一个函数里面，当那个函数执行完之后，再执行传进去的这个函数。这个过程就叫做回调。
	function doMoveCallback(){
		


	}


	function getStyle(obj,attr){
		return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
	};
	

	



	
</script>
</html>